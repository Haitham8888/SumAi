# ðŸ“ API Ø§Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø°ÙƒÙŠ

API Ù„ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠØ©.

## ðŸš€ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

- âœ… ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…ÙˆØ°Ø¬ ALLaM
- âœ… Ø¯Ø¹Ù… Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø®ØµØµØ© (Prompts)
- âœ… ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ø¥Ù†ØªØ±Ù†Øª
- âœ… Ø¯Ø¹Ù… GPU Ùˆ CPU
- âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµØ­Ø©

## ðŸ“‹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

- Python 3.8+
- Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙŠ Ù…Ø¬Ù„Ø¯ `models_cache/`

## ðŸ”§ Ø§Ù„ØªØ«Ø¨ÙŠØª

### 1. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```bash
pip install -r requirements.txt
```

### 2. Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬

ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙÙŠ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØªØ§Ù„ÙŠØ©:
```
models_cache/
â”œâ”€â”€ models--humain-ai--ALLaM-7B-Instruct-preview/
â””â”€â”€ models--MostafaAhmed98--AraBert-Arabic-NER-CoNLLpp/
```

## â–¶ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…

```bash
python app.py
```

Ø³ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰: `http://localhost:5001`

## ðŸ“š Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ API

### 1ï¸âƒ£ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ø®Ø§Ø¯Ù…

**Ø§Ù„Ø·Ù„Ø¨:**
```bash
GET http://localhost:5001/health
```

**Ø§Ù„Ø±Ø¯:**
```json
{
  "status": "healthy",
  "model_loaded": true,
  "device": "cuda"
}
```

### 2ï¸âƒ£ ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ

**Ø§Ù„Ø·Ù„Ø¨:**
```bash
POST http://localhost:5001/api/summarize
Content-Type: application/json

{
  "text": "Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªÙ„Ø®ÙŠØµÙ‡",
  "note": "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ Ø¨Ø´ÙƒÙ„ Ù…Ø®ØªØµØ± ÙˆÙ…ÙÙŠØ¯",
  "max_length": 150
}
```

**Ù…Ø«Ø§Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… curl:**
```bash
curl -X POST http://localhost:5001/api/summarize \
  -H "Content-Type: application/json" \
  -d '{
    "text": "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù‡Ùˆ ÙØ±Ø¹ Ù…Ù† ÙØ±ÙˆØ¹ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨...",
    "note": "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ ÙÙŠ Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø©",
    "max_length": 150
  }'
```

**Ø§Ù„Ø±Ø¯:**
```json
{
  "status": "success",
  "original_text": "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù‡Ùˆ...",
  "note": "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ ÙÙŠ Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø©",
  "summary": "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙØ±Ø¹ Ù…Ù† Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ ÙŠØ±ÙƒØ² Ø¹Ù„Ù‰...",
  "text_length_chars": 250,
  "summary_length_chars": 45,
  "device": "cuda"
}
```

### 3ï¸âƒ£ Ø¥Ø±Ø³Ø§Ù„ Ø¯ÙØ¹Ø© Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Batch)

ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±Ø³Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø¯Ø§Ø®Ù„ Ù…ØµÙÙˆÙØ© JSONØŒ ÙˆØ³ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ù†ØªÙŠØ¬Ø© Ù„ÙƒÙ„ Ø¹Ù†ØµØ± Ø¨Ù†ÙØ³ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.

**Ø§Ù„Ø·Ù„Ø¨:**
```bash
POST http://localhost:5001/api/summarize
Content-Type: application/json

[
  {
    "text": "Ø§Ù„Ù†Øµ Ø§Ù„Ø£ÙˆÙ„...",
    "note": "Ø§Ù„ØªØ²Ù… Ø¨Ø§Ù„ØµÙŠØºØ© (Ø£)"
  },
  {
    "text": "Ø§Ù„Ù†Øµ Ø§Ù„Ø«Ø§Ù†ÙŠ...",
    "note": "Ø§Ù„ØªØ²Ù… Ø¨Ø§Ù„ØµÙŠØºØ© (Ø¨)",
    "max_length": 80
  }
]
```

**Ø§Ù„Ø±Ø¯:**
```json
{
  "status": "success",
  "results_count": 2,
  "errors_count": 0,
  "results": [
    {
      "entry_index": 1,
      "status": "success",
      "original_text": "Ø§Ù„Ù†Øµ Ø§Ù„Ø£ÙˆÙ„...",
      "note": "Ø§Ù„ØªØ²Ù… Ø¨Ø§Ù„ØµÙŠØºØ© (Ø£)",
      "summary": "...",
      "text_length_chars": 120,
      "summary_length_chars": 65,
      "device": "cuda"
    },
    {
      "entry_index": 2,
      "status": "success",
      "original_text": "Ø§Ù„Ù†Øµ Ø§Ù„Ø«Ø§Ù†ÙŠ...",
      "note": "Ø§Ù„ØªØ²Ù… Ø¨Ø§Ù„ØµÙŠØºØ© (Ø¨)",
      "summary": "...",
      "text_length_chars": 90,
      "summary_length_chars": 55,
      "device": "cuda"
    }
  ]
}
```

> ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø³ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ `status` Ø¨Ù‚ÙŠÙ…Ø© `partial` Ù…Ø¹ `errors_count` ÙŠØ³Ø§ÙˆÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙŠ ÙØ´Ù„Øª.

## ðŸ“ Ø´Ø±Ø­ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª

| Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ | Ø§Ù„Ù†ÙˆØ¹ | Ø§Ù„ÙˆØµÙ | Ø§Ø®ØªÙŠØ§Ø±ÙŠ |
|--------|-------|-------|--------|
| `text` | String | Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªÙ„Ø®ÙŠØµÙ‡ | âŒ Ù…Ø·Ù„ÙˆØ¨ |
| `note` | String | Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªÙ„Ø®ÙŠØµ (ØªØ­Ø¯Ø¯ ÙƒÙŠÙÙŠØ© Ø§Ù„ØªÙ„Ø®ÙŠØµ) | âœ… Ø§Ø®ØªÙŠØ§Ø±ÙŠ (Ø§ÙØªØ±Ø§Ø¶ÙŠ: "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ") |
| `max_length` | Integer | Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø·ÙˆÙ„ Ø§Ù„ØªÙ„Ø®ÙŠØµ | âœ… Ø§Ø®ØªÙŠØ§Ø±ÙŠ (Ø§ÙØªØ±Ø§Ø¶ÙŠ: 150) |

## ðŸ’¡ Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ù€ Prompts Ø§Ù„Ù…Ø®ØµØµØ©

### ØªÙ„Ø®ÙŠØµ Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹
```json
{
  "text": "Ø§Ù„Ù†Øµ Ù‡Ù†Ø§...",
  "note": "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ ÙÙŠ Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·"
}
```

### ØªÙ„Ø®ÙŠØµ Ù†Ù‚Ø§Ø·ÙŠ
```json
{
  "text": "Ø§Ù„Ù†Øµ Ù‡Ù†Ø§...",
  "note": "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù†Ù‚Ø§Ø· Ø±Ø¦ÙŠØ³ÙŠØ©"
}
```

### ØªÙ„Ø®ÙŠØµ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ù…Ø¹ÙŠÙ†Ø©
```json
{
  "text": "Ø§Ù„Ù†Øµ Ù‡Ù†Ø§...",
  "note": "Ù‚Ù… Ø¨ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†Øµ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ§Ø¦Ø¯ ÙˆØ§Ù„Ù…Ù…ÙŠØ²Ø§Øª"
}
```

## ðŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù€ API

Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª:

```bash
# ÙÙŠ Ù†Ø§ÙØ°Ø© Ø·Ø±ÙÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© (Ø¨Ø¹Ø¯ ØªØ´ØºÙŠÙ„ app.py)
python test_api.py
```

## ðŸ› Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

### 1. Ø®Ø·Ø£: "Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"
**Ø§Ù„Ø­Ù„:** ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙÙŠ Ù…Ø¬Ù„Ø¯ `models_cache/` ÙˆØ£Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©

### 2. Ø®Ø·Ø£: "CUDA out of memory"
**Ø§Ù„Ø­Ù„:** Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… CPU Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† GPU
```python
# Ù‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ device ÙÙŠ app.py
device = "cpu"  # Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† cuda
```

### 3. Ø®Ø·Ø£: "Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª JSON"
**Ø§Ù„Ø­Ù„:** ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ØµÙŠØºØ© JSON Ù…Ø¹ Ø±Ø£Ø³ Ø§Ù„Ù…Ø·Ù„Ø¨ Ø§Ù„ØµØ­ÙŠØ­:
```
Content-Type: application/json
```

## ðŸ“Š Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØªÙ‚Ø¯Ù…

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Python

```python
import requests

url = "http://localhost:5001/api/summarize"
payload = {
    "text": "Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªÙ„Ø®ÙŠØµÙ‡",
    "note": "Ù‚Ù… Ø¨Ø§Ù„ØªÙ„Ø®ÙŠØµ",
    "max_length": 200
}

response = requests.post(url, json=payload)
result = response.json()

print(f"Ø§Ù„Ù…Ù„Ø®Øµ: {result['summary']}")
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… JavaScript

```javascript
const url = "http://localhost:5001/api/summarize";
const payload = {
    text: "Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªÙ„Ø®ÙŠØµÙ‡",
    note: "Ù‚Ù… Ø¨Ø§Ù„ØªÙ„Ø®ÙŠØµ",
    max_length: 200
};

fetch(url, {
    method: "POST",
    headers: {
        "Content-Type": "application/json"
    },
    body: JSON.stringify(payload)
})
.then(response => response.json())
.then(data => console.log("Ø§Ù„Ù…Ù„Ø®Øµ:", data.summary));
```

## ðŸ“ž Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙˆØ§Ù„Ø¯Ø¹Ù…

Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„ØŒ ØªØ£ÙƒØ¯ Ù…Ù†:
1. âœ… ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
2. âœ… ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø­Ù„ÙŠØ©
3. âœ… Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„
4. âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 2025-12-29
